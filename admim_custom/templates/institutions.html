{% extends "base.html" %}

{% block content %}
<h1>üè• –í—Å–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è</h1>

<form method="get" style="margin-bottom: 20px;">
  <label for="region">–§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥–∏–æ–Ω—É:</label>
  <input type="text" name="region" id="region" value="{{ request.GET.region }}">
  <button type="submit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
</form>

<table style="border-collapse: collapse; width: 100%;">
  <thead>
    <tr style="background-color: #f0f0f0;">
      <th style="padding: 8px;">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
      <th style="padding: 8px;">–¢–∏–ø</th>
      <th style="padding: 8px;">–†–µ–≥–∏–æ–Ω</th>
      <th style="padding: 8px;">–°—Ç–∞—Ç—É—Å</th>
    </tr>
  </thead>
  <tbody>
    {% for institution in page_obj %}
    <tr>
      <td>{{ institution.name }}</td>
      <td>{{ institution.get_institution_type_display }}</td>
      <td>{{ institution.region }}</td>
      <td>{{ institution.is_active|yesno:"‚úÖ,‚ùå" }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="4">–ù–µ—Ç —É—á—Ä–µ–∂–¥–µ–Ω–∏–π –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É.</td></tr>
    {% endfor %}
  </tbody>
</table>

<div class="pagination" style="margin-top: 20px;">
  {% if page_obj.has_previous %}
    <a href="?{% if request.GET.region %}region={{ request.GET.region }}&{% endif %}page={{ page_obj.previous_page_number }}">‚Üê –ù–∞–∑–∞–¥</a>
  {% endif %}

  <span style="margin: 0 10px;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}</span>

  {% if page_obj.has_next %}
    <a href="?{% if request.GET.region %}region={{ request.GET.region }}&{% endif %}page={{ page_obj.next_page_number }}">–í–ø–µ—Ä—ë–¥ ‚Üí</a>
  {% endif %}
</div>
{% endblock %}
