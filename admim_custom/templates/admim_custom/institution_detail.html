{% extends "base.html" %}

{% block title %}üè• {{ institution.name }} ‚Äî MEDHUB.TJ{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-3">üè• {{ institution.name }}</h2>

  <div class="mb-4">
    <p><strong>–¢–∏–ø:</strong> {{ institution.get_institution_type_display }}</p>
    <p><strong>–†–µ–≥–∏–æ–Ω:</strong> {{ institution.region }}</p>
    <p><strong>–°—Ç–∞—Ç—É—Å:</strong>
      <span class="badge {% if institution.is_active %}bg-success{% else %}bg-secondary{% endif %}">
        {{ institution.is_active|yesno:"–ê–∫—Ç–∏–≤–Ω–æ,–ù–µ–∞–∫—Ç–∏–≤–Ω–æ" }}
      </span>
    </p>
  </div>

  <h4 class="mt-4">üìÇ –û—Ç–¥–µ–ª–µ–Ω–∏—è</h4>
  <ul class="list-group mb-4">
    {% for dept in departments %}
      <li class="list-group-item">{{ dept.name }}</li>
    {% empty %}
      <li class="list-group-item text-muted">–ù–µ—Ç –æ—Ç–¥–µ–ª–µ–Ω–∏–π</li>
    {% endfor %}
  </ul>

  <h4>üßë‚Äç‚öïÔ∏è –í—Ä–∞—á–∏</h4>
  <ul class="list-group mb-4">
    {% for doctor in doctors %}
      <li class="list-group-item">
        {{ doctor.get_full_name }} ‚Äî <span class="text-muted">{{ doctor.phone_number }}</span>
      </li>
    {% empty %}
      <li class="list-group-item text-muted">–ù–µ—Ç –≤—Ä–∞—á–µ–π</li>
    {% endfor %}
  </ul>

  <h4>üìÖ –ó–∞—è–≤–∫–∏</h4>
  <ul class="list-group mb-4">
    {% for app in appointments %}
      <li class="list-group-item">
        {{ app.patient }} ‚Üí {{ app.doctor }} <span class="badge bg-info text-dark">{{ app.status }}</span>
      </li>
    {% empty %}
      <li class="list-group-item text-muted">–ù–µ—Ç –∑–∞—è–≤–æ–∫</li>
    {% endfor %}
  </ul>

  <h4>üìù –û—Ç–∑—ã–≤—ã</h4>
  <ul class="list-group mb-5">
    {% for review in reviews %}
      <li class="list-group-item">
        {{ review.appointment.patient }} ‚Üí {{ review.appointment.doctor }}:
        <strong>{{ review.rating }} ‚òÖ</strong>
      </li>
    {% empty %}
      <li class="list-group-item text-muted">–ù–µ—Ç –æ—Ç–∑—ã–≤–æ–≤</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
