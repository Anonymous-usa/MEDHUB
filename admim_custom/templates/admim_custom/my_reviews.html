{% extends "base.html" %}

{% block title %}ğŸ“ ĞÑ‚Ğ·Ñ‹Ğ²Ñ‹ Ğ½Ğ° Ğ¼Ğ¾Ğ¸Ñ… Ğ²Ñ€Ğ°Ñ‡ĞµĞ¹ â€” MEDHUB.TJ{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">ğŸ“ ĞÑ‚Ğ·Ñ‹Ğ²Ñ‹ Ğ½Ğ° Ğ¼Ğ¾Ğ¸Ñ… Ğ²Ñ€Ğ°Ñ‡ĞµĞ¹</h2>

  <!-- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ğ¾Ğ² -->
  <details open>
    <summary class="summary-toggle h5 mb-2">ğŸ“‹ Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ğ¾Ğ²</summary>
    <div class="table-responsive mt-3">
      <table class="table table-bordered table-striped align-middle">
        <thead class="table-light">
          <tr>
            <th>ğŸ‘¤ ĞŸĞ°Ñ†Ğ¸ĞµĞ½Ñ‚</th>
            <th>ğŸ§‘â€âš•ï¸ Ğ’Ñ€Ğ°Ñ‡</th>
            <th>â­ Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³</th>
            <th>ğŸ’¬ ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹</th>
            <th>ğŸ•’ Ğ”Ğ°Ñ‚Ğ°</th>
          </tr>
        </thead>
        <tbody>
          {% for review in reviews %}
          <tr>
            <td>{{ review.appointment.patient.get_full_name }}</td>
            <td>{{ review.appointment.doctor.get_full_name }}</td>
            <td><strong>{{ review.rating }} â˜…</strong></td>
            <td>{{ review.comment|default:"â€”" }}</td>
            <td>{{ review.created_at|date:"d.m.Y H:i" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center text-muted">ĞĞµÑ‚ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ğ¾Ğ²</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </details>
</div>

<!-- Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ summary -->
<style>
  .summary-toggle {
    cursor: pointer;
    user-select: none;
    list-style: none;
  }
  details > summary::-webkit-details-marker {
    display: none;
  }
  details > summary::before {
    content: "â–¸";
    display: inline-block;
    margin-right: 8px;
    transition: transform 0.2s ease;
  }
  details[open] > summary::before {
    transform: rotate(90deg);
  }
</style>
{% endblock %}
