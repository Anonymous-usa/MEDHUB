{% extends "base_.html" %}

{% block content %}
<h1>üßë‚Äç‚öïÔ∏è –í—Å–µ –≤—Ä–∞—á–∏</h1>

<form method="get" style="margin-bottom: 20px;">
  <label for="institution">–§–∏–ª—å—Ç—Ä –ø–æ —É—á—Ä–µ–∂–¥–µ–Ω–∏—é:</label>
  <input type="text" name="institution" id="institution" value="{{ request.GET.institution }}">
  <button type="submit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
</form>

<table style="border-collapse: collapse; width: 100%;">
  <thead>
    <tr style="background-color: #f0f0f0;">
      <th style="padding: 8px;">–§–ò–û</th>
      <th style="padding: 8px;">–¢–µ–ª–µ—Ñ–æ–Ω</th>
      <th style="padding: 8px;">–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ</th>
      <th style="padding: 8px;">–°—Ç–∞—Ç—É—Å</th>
    </tr>
  </thead>
  <tbody>
    {% for doctor in page_obj %}
    <tr>
      <td>{{ doctor.get_full_name }}</td>
      <td>{{ doctor.phone_number }}</td>
      <td>{{ doctor.institution.name }}</td>
      <td>{{ doctor.is_verified|yesno:"‚úÖ,‚ùå" }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="4">–ù–µ—Ç –≤—Ä–∞—á–µ–π –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É.</td></tr>
    {% endfor %}
  </tbody>
</table>

<div class="pagination" style="margin-top: 20px;">
  {% if page_obj.has_previous %}
    <a href="?{% if request.GET.institution %}institution={{ request.GET.institution }}&{% endif %}page={{ page_obj.previous_page_number }}">‚Üê –ù–∞–∑–∞–¥</a>
  {% endif %}

  <span style="margin: 0 10px;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}</span>

  {% if page_obj.has_next %}
    <a href="?{% if request.GET.institution %}institution={{ request.GET.institution }}&{% endif %}page={{ page_obj.next_page_number }}">–í–ø–µ—Ä—ë–¥ ‚Üí</a>
  {% endif %}
</div>
{% endblock %}